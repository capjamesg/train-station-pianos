---js
{
    "layout": "maps.njk",
    "pagination": {
        "data": "stations",
        "size": 1,
        "alias": "station"
    },
    "permalink": "pianos/{{ station.name | lower }}/",
    "url": "{{site.url}}/pianos/{{ station.name | lower }}/",
    "noHero": true,
    "title": "{{ station.name }}",
}
---

<div id="hero">
    <div class="hero-inner">
        <div class="container">
            <h1>{{ station.name | safe }}</h1>
        </div>
    </div>
</div>

<main>
    <p class="breadcrumbs"><a href="/">Train Station Pianos</a> &gt; <a href="/pianos">Find a Piano</a> &gt; {{ station.name }}</p>

    <article class="h-entry h-geo h-review-aggregate">
        <aside>
            <div id="map"></div>
        </aside>
        
        {% if station.rating %}
            <p>Reviews: <span class="p-count">{{ station.reviews }}</span>: <span class="p-rating">{{ station.rating }}</span>/<span class="p-best">5</span></p>
        {% endif %}

        <h2 class="p-name">Pianos at {{ station.name }}</h2>

        <p>{{ station.description }}</p>

        <h2>About this Location</h2>
        <p>Location: {{ station.city }}, {{ station.country }}</p>

        <p>Latitude: <span class="p-latitude">{{ station.lat }}</span></p>
        <p>Longitude: <span class="p-longitude">{{ station.long }}</span></p>

        <script>
            var map = L.map('map').setView([{{ station.lat }}, {{ station.long }}], 13);
            const tiles = L.tileLayer.provider('OpenStreetMap.Mapnik').addTo(map);

            L.marker([{{ station.lat }}, {{ station.long }}]).addTo(map)
                .bindPopup('{{ station.name }} ({{ station.iata }})');
        </script>

        <script type="application/ld+json">
            {
            "@context": "https://schema.org",
            "@type": "BreadcrumbList",
            "itemListElement": [{
                "@type": "ListItem",
                "position": 1,
                "name": "Train Station Pianos",
                "item": "https://trainstationpianos.org"
            },{
                "@type": "ListItem",
                "position": 2,
                "name": "Find a Piano",
                "item": "https://trainstationpianos.org/pianos"
            },{
                "@type": "ListItem",
                "position": 3,
                "name": "{{ station.name }}",
                "item": "https://trainstationpianos.org/{{ station.iata }}"
            }]
            }
        </script>

        {% if station.rating %}
            <script type="application/ld+json">
                {
                    "@context": "https://schema.org/",
                    "@type": "Product",
                    "name": "{{ station.name }} Piano",
                    "aggregateRating": {
                        "@type": "AggregateRating",
                        "ratingValue": "{{ station.rating }}",
                        "bestRating": "5",
                        "ratingCount": "{{ station.reviews }}"
                    }
                }
            </script>
        {% endif %}

        <script type="application/ld+json">
            {
            "@context": "https://schema.org",
            "@type": "FAQPage",
            "mainEntity": [{
                "@type": "Question",
                "name": "Does {{ station.name }} have a piano?",
                "acceptedAnswer": {
                "@type": "Answer",
                "text": "{% if station.hasPiano %}Yes{% else %}No{% endif %}, {{ station.description }}."
                }
            }, {
                "@type": "Question",
                "name": "Where is the piano at {{ station.name }}?",
                "acceptedAnswer": {
                "@type": "Answer",
                "text": "{{ station.pianoShortLocation }}."
                }
            }]
            }
        </script>
    </article>
</main>